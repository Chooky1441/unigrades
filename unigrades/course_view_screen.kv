#: import utils utils

<CourseViewScreen>:
    name: 'course_view_screen'
    NavigationDrawer:
        id: schedule_nav_drawer
        FloatLayout:
            canvas:
                Color:
                    rgba: utils.G, utils.G, utils.G, 1
                Rectangle:
                    size: self.size
                    pos: self.pos

            Label:
                text: 'UniGrades'
                halign: 'left'
                valign: 'middle'
                underline: True
                text_size: self.size
                size_hint: (0.9, 0.1)
                pos_hint: {'x': 0.05, 'y': 0.9}
                font_size: self.height * 0.4

            Button:
                text: 'Add assignment'
                text_size: self.size
                halign: 'left'
                valign: 'middle'
                font_size: self.height * 0.3
                size_hint: (0.9, 0.1)
                pos_hint: {'x': 0.05, 'y': 0.8}
                background_color: 0, 0, 0, 0
                on_release: root.launch_assignment_screen()

            Button:
                text: 'Add category'
                text_size: self.size
                halign: 'left'
                valign: 'middle'
                font_size: self.height * 0.3
                size_hint: (0.9, 0.1)
                pos_hint: {'x': 0.05, 'y': 0.7}
                background_color: 0, 0, 0, 0
                on_release: root.launch_category_screen()

            Button:
                text: 'Edit categories'
                text_size: self.size
                halign: 'left'
                valign: 'middle'
                font_size: self.height * 0.3
                size_hint: (0.9, 0.1)
                pos_hint: {'x': 0.05, 'y': 0.6}
                background_color: 0, 0, 0, 0
                on_release: root.launch_edit_categories_screen()

            Button:
                text: 'Edit course'
                text_size: self.size
                halign: 'left'
                valign: 'middle'
                font_size: self.height * 0.3
                size_hint: (0.9, 0.1)
                pos_hint: {'x': 0.05, 'y': 0.5}
                background_color: 0, 0, 0, 0
                on_release: root.launch_edit_course()

            Button:
                text: 'Delete course'
                text_size: self.size
                halign: 'left'
                valign: 'middle'
                font_size: self.height * 0.3
                size_hint: (0.9, 0.1)
                pos_hint: {'x': 0.05, 'y': 0.4}
                background_color: 0, 0, 0, 0
                on_release: root.delete_course()

            Button:
                text: 'About'
                text_size: self.size
                halign: 'left'
                valign: 'middle'
                font_size: self.height * 0.3
                size_hint: (0.9, 0.1)
                pos_hint: {'x': 0.05, 'y': 0.3}
                background_color: 0, 0, 0, 0
                on_release: utils.default_popup('\nThis screen shows all the assignments in the course and the info about the course.  In order to add assignments you must add categories to add them into, such as "Tests" or "Homework".  There is a default category called "General" worth 100% of the grade, this can be changed in the category editor.\n', 'About')

        BoxLayout:
            id: root_box
            orientation: 'vertical'

            BoxLayout:
                name: 'toolbar'
                size_hint_y: 0.1
                orientation: 'horizontal'

                canvas:
                    Color:
                        rgba: utils.DG, utils.DG, utils.DG, 1
                    Rectangle:
                        size: self.size
                        pos: self.pos

                Button:
                    size_hint_x: 0.1
                    on_release: schedule_nav_drawer.toggle_state()
                    background_color: 0, 0, 0, 0
                    Image:
                        size: self.parent.size
                        pos: self.parent.pos
                        source: 'res/lines.png'

                Label:
                    id: course_name
                    font_size: self.height * 0.5

                Button:
                    size_hint_x: 0.1
                    on_release: root.return_to_schedulescreen()
                    background_color: 0, 0, 0, 0
                    Image:
                        size: self.parent.size
                        pos: self.parent.pos
                        source: 'res/back_arrow.png'

            BoxLayout:
                name: 'status_bar'
                size_hint_y: 0.075
                orientation: 'horizontal'

                canvas:
                    Color:
                        rgba: utils.LG, utils.LG, utils.LG, 1
                    Rectangle:
                        size: self.size
                        pos: self.pos

                Label:
                    id: lbl_grade
                    text_size: self.size
                    valign: 'middle'
                    halign: 'center'
                    size_hint_x: 0.5
                    pos_hint: {'center_x': 0.5}
                    font_size: self.height * 0.4

                Label:
                    id: lbl_units
                    text_size: self.size
                    valign: 'middle'
                    halign: 'center'
                    size_hint_x: 0.5
                    pos_hint: {'center_x': 0.5}
                    font_size: self.height * 0.4

            ScrollView:
                size: self.size
                canvas.before:
                    Color:
                        rgba: utils.G, utils.G, utils.G, 1
                    Rectangle:
                        size: self.size
                        pos: self.pos

                BoxLayout:
                    id: assignment_box
                    size_hint_y: None
                    orientation: 'vertical'
                    height: 0
